import json

def lambda_handler(event, context):
    # TODO implement
    print(event)
    
    for record in event.get('Records'):
        print(event)
        body = json.loads(record.get('body'))
        id_person = body.get('id')
        name = body.get('name')
        print(f'Name: {name}, ID:{id_person}')
        print(f'teste:{body}')
    return {
        'statusCode': 200,
        #'body': json.dumps('Hello from Lambda!')
    }

Politica de acesso SQS

{
  "Version": "2012-10-17",
  "Statement": [
    {
      "Effect": "Allow",
      "Action": [
        "sqs:ReceiveMessage",
        "sqs:DeleteMessage",
        "sqs:GetQueueAttributes",
        "logs:CreateLogGroup",
        "logs:CreateLogStream",
        "logs:PutLogEvents"
      ],
      "Resource": "*"
    }
  ]
}

Politica de acesso lambda

{
    "Version": "2012-10-17",
    "Statement": [
        {
            "Effect": "Allow",
            "Action": [
                "sqs:ReceiveMessage",
                "sqs:DeleteMessage",
                "sqs:GetQueueAttributes",
                "logs:CreateLogGroup",
                "logs:CreateLogStream",
                "logs:PutLogEvents"
            ],
            "Resource": "*"
        }
    ]
}
